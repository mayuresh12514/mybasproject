<mvc:View
    controllerName="com.sap.zcovid19dashboard.controller.View1"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:viz="sap.viz.ui5.controls"
    xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds"
    xmlns:viz.data="sap.viz.ui5.data"
>
    <Shell id="shell">
        <App id="app">
            <pages>
                <Page id="page" title="{i18n>title}" showHeader="false">
                    <content>

                            <ObjectHeader
                                responsive="true"
                                icon="sap-icon://globe"
                                title="Covid-19 around the world in real time"
                                number="{oCovidReportModel>/deaths}"
                                numberUnit="Deaths around the world"
                                numberState="Error"
                                class="sapUiResponsivePadding--header">

                                <headerContainer>

                                    <IconTabBar
                                        id="iconTabId"
                                        selectedKey="1"
                                        upperCase="true"
                                        class="sapUiResponsiveContentPadding"
                                    >
                                        <items>
                                            <IconTabFilter key="1" icon="sap-icon://choropleth-chart" text="World">
                                                <GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" header="Covid-19 Cases"
                                                            frameType = "OneByHalf" subheader="in the world" press="onPress">
                                                    <TileContent footer="Real time" >
                                                        <NumericContent scale="M" value="{oCovidReportModel>/cases1}" valueColor="Error"  withMargin="false" />
                                                    </TileContent>
                                                </GenericTile>

                                                <GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" header="Deaths by Covid-19"
                                                            frameType = "OneByHalf" subheader="in the world" press="onPress">
                                                    <TileContent footer="Real time" >
                                                        <NumericContent scale="M" value="{oCovidReportModel>/deaths1}" valueColor="Error"  withMargin="false" />
                                                    </TileContent>
                                                </GenericTile>

                                                <GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" header="Recovered by Covid-19"
                                                            frameType = "OneByHalf" subheader="in the world" press="onPress">
                                                    <TileContent footer="Real time" >
                                                        <NumericContent scale="M" value="{oCovidReportModel>/recovered1}" valueColor="Error"  withMargin="false" />
                                                    </TileContent>
                                                </GenericTile>

                                            </IconTabFilter>
                                            <IconTabFilter key="2" icon="sap-icon://geographic-bubble-chart" text="Countries">
                                                <Table id="CountryTable" items="{oCountryWiseModel>/}">
                                                    <columns>
                                                        <Column>
                                                            <Text text="Country"/>
                                                        </Column>
                                                        <Column>
                                                            <Text text="Cases"/>
                                                        </Column>
                                                        <Column>
                                                            <Text text="Deaths"/>
                                                        </Column>
                                                        <Column>
                                                            <Text text="Today Deaths"/>
                                                        </Column>
                                                        <Column>
                                                             <Text text="Recovered"/>
                                                        </Column>
                                                    </columns>
                                                    <items>
                                                           <ColumnListItem>
                                                             <cells>
                                                                <Text text="{oCountryWiseModel>country}"/>
                                                                <Text text="{oCountryWiseModel>cases}"/>
                                                                <Text text="{oCountryWiseModel>deaths}"/>
                                                                <Text text="{oCountryWiseModel>todayDeaths}"/>
                                                                <Text text="{oCountryWiseModel>recovered}"/>

                                                             </cells>

                                                           </ColumnListItem>   
                                                    </items>

                                                </Table>
                                            </IconTabFilter>
                                            <IconTabFilter key="3" icon="sap-icon://business-objects-experience" text="Graph">

                                                <viz:VizFrame id="idVizFrame" uiConfig="{applicationSet:'fiori'}"
                                                 width="100%" vizType="bar">
                                                    <viz:dataset>
                                                        <viz.data:FlattenedDataset data="{oCountryWiseModel>/}">
                                                            <viz.data:dimensions>
                                                                <viz.data:DimensionDefinition name="Country"
                                                                    value="{oCountryWiseModel>country}" />
                                                            </viz.data:dimensions>
                                                            <viz.data:measures>
                                                                <viz.data:MeasureDefinition name="Total Cases"
                                                                    value="{oCountryWiseModel>cases}" />
                                                                <viz.data:MeasureDefinition name="Total Recovered"
                                                                    value="{oCountryWiseModel>recovered}" />
                                                            </viz.data:measures>
                                                        </viz.data:FlattenedDataset>
                                                    </viz:dataset>

                                                    <viz:feeds>
                                                        <viz.feeds:FeedItem id='valueAxisFeed' uid="valueAxis" type="Measure"
                                                            values="Total Cases" />
                                                        <viz.feeds:FeedItem id='valueAxisFeed1' uid="valueAxis" type="Measure"
                                                            values="Total Recovered" />
                                                        <viz.feeds:FeedItem id='categoryAxisFeed' uid="categoryAxis" type="Dimension"
                                                            values="Country" />
                                                    </viz:feeds>
                                                </viz:VizFrame>
                                            </IconTabFilter>


                                        </items>

                                    </IconTabBar>

                                </headerContainer>

                            </ObjectHeader>

                    </content>
                </Page>
            </pages>
        </App>
    </Shell>
</mvc:View>
